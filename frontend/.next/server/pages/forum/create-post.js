(()=>{var e={};e.id=577,e.ids=[220,577,636],e.modules={237:(e,t)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1413:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},2015:e=>{"use strict";e.exports=require("react")},2326:e=>{"use strict";e.exports=require("react-dom")},2770:e=>{"use strict";e.exports=require("styled-components")},2893:e=>{"use strict";e.exports=import("react-hot-toast")},2965:e=>{"use strict";e.exports=require("react-firebase-hooks/auth")},3037:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>P,getServerSideProps:()=>h});var a=r(8732),o=r(9788),i=r.n(o),n=r(4233),u=r(2015),l=r(2965),c=r(2893),d=r(8703),p=r(5987),m=r.n(p),f=e([c,d]);[c,d]=f.then?(await f)():f;let g=["budgeting","saving","investing","credit","side hustles","debt","freelancing","real estate","taxes","retirement"],h=async()=>({props:{}}),P=({authInput:e,dbInput:t})=>{let r=(0,n.useRouter)(),[s,o]=(0,u.useState)(""),[p,f]=(0,u.useState)(""),[h,P]=(0,u.useState)([]),b=(0,u.useRef)(null),[x]=(0,u.useState)(e||null),[S]=(0,u.useState)(t||null),[y,_,v]=(0,l.useAuthState)(x),j=async e=>{if(e.preventDefault(),!y)return void c.default.error("You must be logged in to create a post.");if(!S)return void c.default.error("Database service is not available. Cannot create post.");try{await (0,d.m)(S,{title:s,content:p,tags:h,authorId:y.uid,authorDisplayName:y.displayName||"Anonymous"}),c.default.success("âœ… Post submitted successfully!"),r.push("/forum"),o(""),f(""),P([])}catch(e){console.error("Failed to submit post",e),c.default.error("Something went wrong. Try again.")}};return((0,u.useEffect)(()=>{b.current?.focus()},[]),(0,u.useEffect)(()=>{x&&b.current?.focus()},[x]),x)?_?(0,a.jsx)("p",{children:"Loading page..."}):v?(0,a.jsxs)("p",{children:["Error loading user: ",v.message,". Please try refreshing."]}):x&&S?(0,a.jsxs)("div",{className:`${m()["page-container"]} ${m()["create-post-page"]}`,children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Create New Forum Post | Dollars & Life"}),(0,a.jsx)("meta",{name:"description",content:"Ask a question or start a new discussion in the Dollars & Life community forum."})]}),(0,a.jsxs)("form",{className:"create-post-form",onSubmit:j,children:[(0,a.jsx)("h1",{className:m()["form-heading"],children:"Ask a New Question"})," ",(0,a.jsx)("label",{htmlFor:"title",children:"Title"}),(0,a.jsx)("input",{type:"text",id:"title",ref:b,value:s,onChange:e=>o(e.target.value),required:!0,placeholder:"Enter your question title...",disabled:!y||!S,className:m().input}),(0,a.jsx)("label",{htmlFor:"content",children:"Description"}),(0,a.jsx)("textarea",{id:"content",value:p,onChange:e=>f(e.target.value),required:!0,placeholder:"Describe your question in detail...",disabled:!y||!S,className:m().textarea}),(0,a.jsx)("label",{children:"Choose Tags (up to 3 recommended)"}),(0,a.jsx)("div",{className:m()["form-tag-options"],children:g.map(e=>(0,a.jsx)("span",{className:`${m()["form-tag-pill"]} ${h.includes(e)?m().selected:""}`,onClick:()=>{h.includes(e)?P(t=>t.filter(t=>t!==e)):h.length<3?P(t=>[...t,e]):c.default.error("You can select up to 3 tags.")},children:e},e))}),(0,a.jsx)("button",{type:"submit",className:m()["submit-post-button"],disabled:!y||!S||!s.trim()||!p.trim(),children:"Submit Post"})]})]}):(0,a.jsx)("p",{children:"Error: Firebase services not available. Please try refreshing."}):(0,a.jsx)("div",{children:"Loading authentication..."})};s()}catch(e){s(e)}})},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4337:e=>{"use strict";e.exports=import("firebase/firestore")},5987:e=>{e.exports={"create-post-form":"CreatePostForm_create-post-form__sO4Lf","form-heading":"CreatePostForm_form-heading__7AoTb","form-tag-options-container":"CreatePostForm_form-tag-options-container__TPdQ1","form-tag-options":"CreatePostForm_form-tag-options__9sFPJ","form-tag-pill":"CreatePostForm_form-tag-pill__eir0y",selected:"CreatePostForm_selected__OMwsS","submit-post-button":"CreatePostForm_submit-post-button__q8_sy"}},7763:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>g,default:()=>d,getServerSideProps:()=>f,getStaticPaths:()=>m,getStaticProps:()=>p,reportWebVitals:()=>h,routeModule:()=>_,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>x,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>P});var a=r(3885),o=r(237),i=r(1413),n=r(8874),u=r(2386),l=r(3037),c=e([l,u]);[l,u]=c.then?(await c)():c;let d=(0,i.M)(l,"default"),p=(0,i.M)(l,"getStaticProps"),m=(0,i.M)(l,"getStaticPaths"),f=(0,i.M)(l,"getServerSideProps"),g=(0,i.M)(l,"config"),h=(0,i.M)(l,"reportWebVitals"),P=(0,i.M)(l,"unstable_getStaticProps"),b=(0,i.M)(l,"unstable_getStaticPaths"),x=(0,i.M)(l,"unstable_getStaticParams"),S=(0,i.M)(l,"unstable_getServerProps"),y=(0,i.M)(l,"unstable_getServerSideProps"),_=new a.PagesRouteModule({definition:{kind:o.A.PAGES,page:"/forum/create-post",pathname:"/forum/create-post",bundlePath:"",filename:""},components:{App:u.default,Document:n.default},userland:l});s()}catch(e){s(e)}})},7910:e=>{"use strict";e.exports=require("stream")},8703:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{L:()=>n,m:()=>i});var a=r(4337),o=e([a]);a=(o.then?(await o)():o)[0];let i=async(e,t)=>{if(!e)throw Error("Firestore instance is required to create a forum post.");let r=(0,a.collection)(e,"forumPosts");await (0,a.addDoc)(r,{...t,helpfulVoteCount:0,notHelpfulVoteCount:0,answerCount:0,timestamp:(0,a.serverTimestamp)()})},n=async(e,t)=>{if(!e)throw Error("Firestore instance is required to delete a forum post.");let r=(0,a.doc)(e,"forumPosts",t);await (0,a.deleteDoc)(r)};s()}catch(e){s(e)}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},8874:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(8732),a=r(2341),o=r.n(a),i=r(2770);class n extends o(){static async getInitialProps(e){let t=new i.ServerStyleSheet,r=e.renderPage;try{e.renderPage=()=>r({enhanceApp:e=>r=>t.collectStyles((0,s.jsx)(e,{...r}))});let a=await o().getInitialProps(e);return{...a,styles:(0,s.jsxs)(s.Fragment,{children:[a.styles,t.getStyleElement()]})}}finally{t.seal()}}render(){return(0,s.jsxs)(a.Html,{lang:"en",children:[" ",(0,s.jsx)(a.Head,{}),(0,s.jsxs)("body",{children:[(0,s.jsx)(a.Main,{}),(0,s.jsx)(a.NextScript,{})]})]})}}},9021:e=>{"use strict";e.exports=require("fs")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[89,705,341,386],()=>r(7763));module.exports=s})();