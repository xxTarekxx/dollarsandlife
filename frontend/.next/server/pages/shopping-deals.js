"use strict";(()=>{var e={};e.id=822,e.ids=[220,636,822],e.modules={237:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},841:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(8732);r(2015);let s=({totalItems:e,itemsPerPage:t,currentPage:r,setCurrentPage:s})=>{let i=Math.ceil(e/t);if(i<=1)return null;let n=e=>{e!==r&&s(e)};return(0,a.jsxs)("nav",{className:"pagination-wrapper","aria-label":"Pagination Navigation",children:[(0,a.jsx)("button",{className:`pagination-button ${1===r?"disabled":""}`,onClick:()=>n(r-1),disabled:1===r,"aria-label":"Go to previous page",children:"Previous"}),Array.from({length:i},(e,t)=>(0,a.jsx)("button",{className:`page-number ${r===t+1?"active":""}`,onClick:()=>n(t+1),"aria-label":`Go to page ${t+1}`,children:t+1},t)),(0,a.jsx)("button",{className:`pagination-button ${r===i?"disabled":""}`,onClick:()=>n(r+1),disabled:r===i,"aria-label":"Go to next page",children:"Next"})]})}},1268:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>p,getServerSideProps:()=>h,getStaticPaths:()=>g,getStaticProps:()=>u,reportWebVitals:()=>f,routeModule:()=>b,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>P,unstable_getStaticProps:()=>x});var s=r(3885),i=r(237),n=r(1413),l=r(8874),o=r(2386),c=r(8027),d=e([o]);o=(d.then?(await d)():d)[0];let p=(0,n.M)(c,"default"),u=(0,n.M)(c,"getStaticProps"),g=(0,n.M)(c,"getStaticPaths"),h=(0,n.M)(c,"getServerSideProps"),m=(0,n.M)(c,"config"),f=(0,n.M)(c,"reportWebVitals"),x=(0,n.M)(c,"unstable_getStaticProps"),P=(0,n.M)(c,"unstable_getStaticPaths"),v=(0,n.M)(c,"unstable_getStaticParams"),j=(0,n.M)(c,"unstable_getServerProps"),S=(0,n.M)(c,"unstable_getServerSideProps"),b=new s.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/shopping-deals",pathname:"/shopping-deals",bundlePath:"",filename:""},components:{App:o.default,Document:l.default},userland:c});a()}catch(e){a(e)}})},1413:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},2770:e=>{e.exports=require("styled-components")},2893:e=>{e.exports=import("react-hot-toast")},3873:e=>{e.exports=require("path")},4075:e=>{e.exports=require("zlib")},7910:e=>{e.exports=require("stream")},8027:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g,getServerSideProps:()=>u});var a=r(8732),s=r(9788),i=r.n(s),n=r(9918),l=r.n(n),o=r(2015),c=r(841);let d=e=>e.replace(/[\u{1F300}-\u{1FAFF}]/gu,"").replace(/<[^>]*>/g,"").trim(),p=({id:e,headline:t,shortName:r,image:s,description:i,currentPrice:n,discountPercentage:o,specialOffer:c,aggregateRating:d,offers:p})=>{let u=(r||t).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-"),g=`/shopping-deals/products/${e}-${u}`,h=i?.replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim().substring(0,150)+(i?.length>150?"...":"");return(0,a.jsxs)("div",{className:"sd-product-card","data-id":e,children:[(0,a.jsx)(l(),{href:g,"aria-label":`View details for ${t}`,children:(0,a.jsx)("img",{src:s.url,alt:s.caption||t,className:"sd-product-image",loading:"lazy"})}),(0,a.jsxs)("div",{className:"sd-product-details",children:[(0,a.jsx)("h2",{className:"sd-product-title",children:(0,a.jsx)(l(),{href:g,className:"sd-product-title-link",children:t})}),(0,a.jsx)("p",{className:"sd-product-description-snippet",children:h}),(0,a.jsxs)("div",{className:"sd-product-price-section",children:[o&&(0,a.jsxs)("span",{className:"sd-discount-percentage",children:[o,"% OFF"]}),(0,a.jsx)("span",{className:`sd-current-price ${!n||""===n.trim()?"sd-unavailable-price":""}`,children:n&&""!==n.trim()?n:"Currently Not Available"})]}),p?.displayShippingInfo?.includes("Free Prime Delivery")&&(0,a.jsxs)("p",{className:"sd-shipping-info",children:[(0,a.jsx)("strong",{children:"Free Prime Delivery"})," —",(0,a.jsx)("a",{href:"https://amzn.to/4cTcIec",target:"_blank",rel:"noopener noreferrer",children:"Try Amazon Prime Free"})]}),c&&(0,a.jsx)("p",{className:"sd-special-offer-badge",children:c}),d&&(0,a.jsxs)("div",{className:"sd-product-rating",children:[d.ratingValue&&(0,a.jsx)("span",{className:"sd-stars",children:(e=>{if(!e)return null;let t=parseFloat(e);return isNaN(t)?null:Array.from({length:5},(e,r)=>{let s=t>=r+1?"filled":t>=r+.5?"half":"empty";return(0,a.jsx)("span",{className:`sd-star sd-star-${s}`,children:"★"},r)})})(d.ratingValue)}),d.ratingValue&&(0,a.jsxs)("span",{className:"sd-rating-value",children:["(",d.ratingValue,")"]}),d.reviewCount&&(0,a.jsxs)("span",{className:"sd-review-count",children:["(",d.reviewCount," Amazon reviews)"]})]}),(0,a.jsx)("div",{className:"sd-product-actions",children:(0,a.jsx)(l(),{href:g,className:"sd-view-details-button",children:"View Details"})})]})]})},u=async()=>{try{let e=await fetch("http://localhost:5001/api/shopping-deals");if(!e.ok)return console.error(`SSR Error fetching shopping deals: ${e.status}`),{props:{initialProducts:[],error:"Failed to load deals from server."}};let t=await e.json();return{props:{initialProducts:Array.isArray(t)?t:t?[t]:[]}}}catch(e){return console.error("SSR Exception fetching shopping deals:",e),{props:{initialProducts:[],error:"Server exception when loading deals."}}}},g=({initialProducts:e,error:t})=>{let[r,s]=(0,o.useState)(e||[]),[n,l]=(0,o.useState)(!e),[u,g]=(0,o.useState)(t||null),[h,m]=(0,o.useState)(1),f=(0,o.useCallback)(async()=>{l(!0),g(null);try{let e=await fetch("http://localhost:5001/api/shopping-deals");if(!e.ok)throw Error(`HTTP error! Status: ${e.status}`);let t=(await e.json()).filter((e,t,r)=>r.findIndex(t=>t.id===e.id)===t);s(t)}catch(e){g(e instanceof Error?e.message:"Failed to load deals client-side.")}finally{l(!1)}},[]);(0,o.useEffect)(()=>{e&&e.length>0?(s(e),l(!1),g(null)):t?l(!1):0===r.length&&f()},[e,r.length,t,f]),(0,o.useEffect)(()=>{1!==h&&window.scrollTo({top:0,behavior:"smooth"})},[h]);let x=(0,o.useMemo)(()=>{let e=(h-1)*12;return r.slice(e,e+12)},[r,h,12]),P=(0,o.useMemo)(()=>({"@context":"https://schema.org","@type":"ItemList",name:"Shopping Deals",description:"Current deals and savings on various products.",url:"https://www.dollarsandlife.com/shopping-deals",itemListElement:r.map((e,t)=>({"@type":"ListItem",position:t+1,item:{"@type":"Product",name:d(e.headline),image:e.image.url,description:d(e.description).slice(0,200),offers:{"@type":"Offer",priceCurrency:"USD",price:e.offers?.price||e.currentPrice.replace("$",""),availability:e.offers?.availability||"https://schema.org/InStock",url:`https://www.dollarsandlife.com${e.canonicalUrl}`},aggregateRating:e.aggregateRating&&{"@type":"AggregateRating",ratingValue:e.aggregateRating.ratingValue,reviewCount:e.aggregateRating.reviewCount}}}))}),[r]);return(0,a.jsxs)("div",{className:"sd-page-container",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Deals and Savings - Best Shopping Discounts"}),(0,a.jsx)("meta",{name:"description",content:"Find the best deals and savings on top products."}),(0,a.jsx)("link",{rel:"canonical",href:"https://www.dollarsandlife.com/shopping-deals"}),(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(P).replace(/<\/script>/g,"<\\/script>").replace(/[\u2028\u2029]/g,"")}})]}),(0,a.jsx)("h1",{className:"sd-page-title",children:"Deals and Savings"}),n&&(0,a.jsx)("div",{className:"sd-loading-indicator",children:"Loading Deals..."}),u&&(0,a.jsxs)("div",{className:"sd-error-indicator",children:["Error: ",u]}),!n&&!u&&x.length>0&&(0,a.jsx)("div",{className:"sd-products-grid",children:x.map(e=>(0,a.jsx)(p,{...e},e.id))}),!n&&!u&&0===x.length&&(0,a.jsx)("div",{className:"sd-no-products",children:"No deals available."}),r.length>12&&(0,a.jsx)(c.A,{totalItems:r.length,itemsPerPage:12,currentPage:h,setCurrentPage:m})]})}},8732:e=>{e.exports=require("react/jsx-runtime")},8874:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(8732),s=r(2341),i=r.n(s),n=r(2770);class l extends i(){static async getInitialProps(e){let t=new n.ServerStyleSheet,r=e.renderPage;try{e.renderPage=()=>r({enhanceApp:e=>r=>t.collectStyles((0,a.jsx)(e,{...r}))});let s=await i().getInitialProps(e);return{...s,styles:(0,a.jsxs)(a.Fragment,{children:[s.styles,t.getStyleElement()]})}}finally{t.seal()}}render(){return(0,a.jsxs)(s.Html,{lang:"en",children:[" ",(0,a.jsx)(s.Head,{}),(0,a.jsxs)("body",{children:[(0,a.jsx)(s.Main,{}),(0,a.jsx)(s.NextScript,{})]})]})}}},9021:e=>{e.exports=require("fs")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[89,705,341,386],()=>r(1268));module.exports=a})();