"use strict";(()=>{var e={};e.id=456,e.ids=[220,456,636],e.modules={237:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},926:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>d,getServerSideProps:()=>o});var s=r(8732),n=r(3692),i=r(9788),l=r.n(i),c=e([n]);n=(c.then?(await c)():c)[0];let o=async e=>{let{productId:t}=e.params||{};if(!t||"string"!=typeof t)return{notFound:!0};let r=t.split("-")[0];if(!r||isNaN(parseInt(r,10)))return console.warn(`Could not parse numeric ID from slug: ${t}`),{notFound:!0};try{let e=await fetch(`http://localhost:5001/api/shopping-deals/${r}`);if(!e.ok){if(404===e.status)return{notFound:!0};return console.error(`Failed to fetch product ${r}: ${e.status} ${e.statusText}`),{props:{product:null,productSlug:t,error:`Failed to fetch product: ${e.status}`}}}return{props:{product:await e.json(),productSlug:t}}}catch(e){return console.error("Error in getServerSideProps for product details:",e),{props:{product:null,productSlug:t,error:"Server error while fetching product details."}}}},d=({product:e,productSlug:t,error:r})=>{if(r)return(0,s.jsxs)("div",{className:"pdf-status-container",children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Error Loading Product"})}),(0,s.jsxs)("p",{children:["Error: ",r]})]});if(!e)return(0,s.jsxs)("div",{className:"pdf-status-container",children:[(0,s.jsx)(l(),{children:(0,s.jsx)("title",{children:"Product Not Found"})}),(0,s.jsx)("p",{children:"The requested product could not be found."})]});let a=e.offers?.availability?.includes("InStock")??!1,i=e.description?.replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim().substring(0,160)??"";return(0,s.jsxs)("div",{className:"pdf-container",children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:`${e.headline} | Shopping Deals`}),(0,s.jsx)("meta",{name:"description",content:i}),(0,s.jsx)("link",{rel:"canonical",href:`https://www.dollarsandlife.com/shopping-deals/products/${t}`}),(0,s.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Product",name:e.headline,image:e.image.url,description:i,brand:{"@type":"Brand",name:e.brand?.name||"Generic"},offers:{"@type":"Offer",priceCurrency:"USD",price:e.currentPrice.replace("$",""),availability:e.offers?.availability||"https://schema.org/InStock",url:e.purchaseUrl},aggregateRating:e.aggregateRating?{"@type":"AggregateRating",ratingValue:e.aggregateRating.ratingValue,reviewCount:e.aggregateRating.reviewCount}:void 0})})]}),(0,s.jsxs)("article",{className:"pdf-card",children:[(0,s.jsxs)("div",{className:"pdf-image-section",children:[(0,s.jsx)("img",{src:e.image.url,alt:e.image.caption||e.headline,className:"pdf-image",loading:"eager"}),e.discountPercentage&&(0,s.jsxs)("span",{className:"pdf-discount-badge",children:[e.discountPercentage," OFF"]})]}),(0,s.jsxs)("div",{className:"pdf-info-section",children:[(0,s.jsxs)("header",{className:"pdf-header",children:[(0,s.jsx)("h1",{children:e.headline}),e.brand&&(0,s.jsxs)("span",{className:"pdf-brand",children:["by ",e.brand.name]})]}),(0,s.jsx)("div",{className:"pdf-description",children:(0,n.default)(e.description)}),e.offers?.displayShippingInfo?.includes("Free Prime Delivery")&&(0,s.jsxs)("p",{className:"pdf-shipping-info",children:[(0,s.jsx)("strong",{children:"Free Prime Delivery"})," —"," ",(0,s.jsx)("a",{href:"https://amzn.to/4cTcIec",target:"_blank",rel:"noopener noreferrer",children:"Try Amazon Prime Free"})]}),(0,s.jsxs)("div",{className:"pdf-price-stock-section",children:[(0,s.jsx)("span",{className:"pdf-price",children:e.currentPrice}),(0,s.jsx)("span",{className:`pdf-stock-status pdf-stock-${a?"in-stock":"out-of-stock"}`,children:a?"In Stock":"Out Of Stock"})]}),e.aggregateRating&&(0,s.jsxs)("div",{className:"pdf-rating",children:[(0,s.jsx)("span",{className:"pdf-stars",children:(e=>{if(!e)return null;let t=parseFloat(e);return isNaN(t)?null:Array.from({length:5},(e,r)=>{let a=t>=r+1?"filled":t>=r+.5?"half":"empty";return(0,s.jsx)("span",{className:`pdf-star pdf-star-${a}`,children:"★"},r)})})(e.aggregateRating.ratingValue)}),e.aggregateRating.ratingValue&&(0,s.jsxs)("span",{className:"pdf-rating-value",children:["(",e.aggregateRating.ratingValue,")"]}),e.aggregateRating.reviewCount&&(0,s.jsxs)("span",{className:"pdf-review-count",children:[e.aggregateRating.reviewCount," reviews"]})]}),e.specialOffer&&(0,s.jsx)("p",{className:"pdf-special-offer",children:e.specialOffer}),(0,s.jsxs)("div",{className:"pdf-actions",children:[a?(0,s.jsx)("a",{href:e.purchaseUrl,target:"_blank",rel:"noopener noreferrer",className:"pdf-button pdf-button-buy",children:"Buy Now"}):(0,s.jsx)("button",{className:"pdf-button pdf-button-oos",disabled:!0,children:"Out Of Stock"}),(0,s.jsx)("button",{onClick:()=>window.history.back(),className:"pdf-button pdf-button-back",children:"Back to Deals"})]})]})]})]})};a()}catch(e){a(e)}})},1413:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},2770:e=>{e.exports=require("styled-components")},2893:e=>{e.exports=import("react-hot-toast")},3692:e=>{e.exports=import("html-react-parser")},3873:e=>{e.exports=require("path")},4075:e=>{e.exports=require("zlib")},7441:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>p,getServerSideProps:()=>f,getStaticPaths:()=>g,getStaticProps:()=>u,reportWebVitals:()=>m,routeModule:()=>v,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>x});var s=r(3885),n=r(237),i=r(1413),l=r(8874),c=r(2386),o=r(926),d=e([o,c]);[o,c]=d.then?(await d)():d;let p=(0,i.M)(o,"default"),u=(0,i.M)(o,"getStaticProps"),g=(0,i.M)(o,"getStaticPaths"),f=(0,i.M)(o,"getServerSideProps"),h=(0,i.M)(o,"config"),m=(0,i.M)(o,"reportWebVitals"),x=(0,i.M)(o,"unstable_getStaticProps"),j=(0,i.M)(o,"unstable_getStaticPaths"),P=(0,i.M)(o,"unstable_getStaticParams"),S=(0,i.M)(o,"unstable_getServerProps"),b=(0,i.M)(o,"unstable_getServerSideProps"),v=new s.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/shopping-deals/products/[productId]",pathname:"/shopping-deals/products/[productId]",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:o});a()}catch(e){a(e)}})},7910:e=>{e.exports=require("stream")},8732:e=>{e.exports=require("react/jsx-runtime")},8874:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var a=r(8732),s=r(2341),n=r.n(s),i=r(2770);class l extends n(){static async getInitialProps(e){let t=new i.ServerStyleSheet,r=e.renderPage;try{e.renderPage=()=>r({enhanceApp:e=>r=>t.collectStyles((0,a.jsx)(e,{...r}))});let s=await n().getInitialProps(e);return{...s,styles:(0,a.jsxs)(a.Fragment,{children:[s.styles,t.getStyleElement()]})}}finally{t.seal()}}render(){return(0,a.jsxs)(s.Html,{lang:"en",children:[" ",(0,a.jsx)(s.Head,{}),(0,a.jsxs)("body",{children:[(0,a.jsx)(s.Main,{}),(0,a.jsx)(s.NextScript,{})]})]})}}},9021:e=>{e.exports=require("fs")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[89,705,341,386],()=>r(7441));module.exports=a})();