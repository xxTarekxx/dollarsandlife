(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{1548:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var t=s(7876);s(4232);let r=e=>{let{totalItems:a,itemsPerPage:s,currentPage:r,setCurrentPage:l}=e,i=Math.ceil(a/s);if(i<=1)return null;let n=e=>{e!==r&&l(e)};return(0,t.jsxs)("nav",{className:"pagination-wrapper","aria-label":"Pagination Navigation",children:[(0,t.jsx)("button",{className:"pagination-button ".concat(1===r?"disabled":""),onClick:()=>n(r-1),disabled:1===r,"aria-label":"Go to previous page",children:"Previous"}),Array.from({length:i},(e,a)=>(0,t.jsx)("button",{className:"page-number ".concat(r===a+1?"active":""),onClick:()=>n(a+1),"aria-label":"Go to page ".concat(a+1),children:a+1},a)),(0,t.jsx)("button",{className:"pagination-button ".concat(r===i?"disabled":""),onClick:()=>n(r+1),disabled:r===i,"aria-label":"Go to next page",children:"Next"})]})}},6787:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/shopping-deals",function(){return s(9284)}])},9284:(e,a,s)=>{"use strict";s.r(a),s.d(a,{__N_SSP:()=>u,default:()=>g});var t=s(7876),r=s(7328),l=s.n(r),i=s(8230),n=s.n(i),c=s(4232),d=s(1548);let o=e=>e.replace(/[\u{1F300}-\u{1FAFF}]/gu,"").replace(/<[^>]*>/g,"").trim(),p=e=>{var a;let{id:s,headline:r,shortName:l,image:i,description:c,currentPrice:d,discountPercentage:o,specialOffer:p,aggregateRating:u,offers:g}=e,h=(l||r).toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-"),m="/shopping-deals/products/".concat(s,"-").concat(h),v=(null==c?void 0:c.replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim().substring(0,150))+((null==c?void 0:c.length)>150?"...":"");return(0,t.jsxs)("div",{className:"sd-product-card","data-id":s,children:[(0,t.jsx)(n(),{href:m,"aria-label":"View details for ".concat(r),children:(0,t.jsx)("img",{src:i.url,alt:i.caption||r,className:"sd-product-image",loading:"lazy"})}),(0,t.jsxs)("div",{className:"sd-product-details",children:[(0,t.jsx)("h2",{className:"sd-product-title",children:(0,t.jsx)(n(),{href:m,className:"sd-product-title-link",children:r})}),(0,t.jsx)("p",{className:"sd-product-description-snippet",children:v}),(0,t.jsxs)("div",{className:"sd-product-price-section",children:[o&&(0,t.jsxs)("span",{className:"sd-discount-percentage",children:[o,"% OFF"]}),(0,t.jsx)("span",{className:"sd-current-price ".concat(d&&""!==d.trim()?"":"sd-unavailable-price"),children:d&&""!==d.trim()?d:"Currently Not Available"})]}),(null==g||null==(a=g.displayShippingInfo)?void 0:a.includes("Free Prime Delivery"))&&(0,t.jsxs)("p",{className:"sd-shipping-info",children:[(0,t.jsx)("strong",{children:"Free Prime Delivery"})," —",(0,t.jsx)("a",{href:"https://amzn.to/4cTcIec",target:"_blank",rel:"noopener noreferrer",children:"Try Amazon Prime Free"})]}),p&&(0,t.jsx)("p",{className:"sd-special-offer-badge",children:p}),u&&(0,t.jsxs)("div",{className:"sd-product-rating",children:[u.ratingValue&&(0,t.jsx)("span",{className:"sd-stars",children:(e=>{if(!e)return null;let a=parseFloat(e);return isNaN(a)?null:Array.from({length:5},(e,s)=>{let r=a>=s+1?"filled":a>=s+.5?"half":"empty";return(0,t.jsx)("span",{className:"sd-star sd-star-".concat(r),children:"★"},s)})})(u.ratingValue)}),u.ratingValue&&(0,t.jsxs)("span",{className:"sd-rating-value",children:["(",u.ratingValue,")"]}),u.reviewCount&&(0,t.jsxs)("span",{className:"sd-review-count",children:["(",u.reviewCount," Amazon reviews)"]})]}),(0,t.jsx)("div",{className:"sd-product-actions",children:(0,t.jsx)(n(),{href:m,className:"sd-view-details-button",children:"View Details"})})]})]})};var u=!0;let g=e=>{let{initialProducts:a,error:s}=e,[r,i]=(0,c.useState)(a||[]),[n,u]=(0,c.useState)(!a),[g,h]=(0,c.useState)(s||null),[m,v]=(0,c.useState)(1),f=(0,c.useCallback)(async()=>{u(!0),h(null);try{let e=await fetch("".concat("http://localhost:5001/api","/shopping-deals"));if(!e.ok)throw Error("HTTP error! Status: ".concat(e.status));let a=(await e.json()).filter((e,a,s)=>s.findIndex(a=>a.id===e.id)===a);i(a)}catch(e){h(e instanceof Error?e.message:"Failed to load deals client-side.")}finally{u(!1)}},[]);(0,c.useEffect)(()=>{a&&a.length>0?(i(a),u(!1),h(null)):s?u(!1):0===r.length&&f()},[a,r.length,s,f]),(0,c.useEffect)(()=>{1!==m&&window.scrollTo({top:0,behavior:"smooth"})},[m]);let x=(0,c.useMemo)(()=>{let e=(m-1)*12;return r.slice(e,e+12)},[r,m,12]),N=(0,c.useMemo)(()=>({"@context":"https://schema.org","@type":"ItemList",name:"Shopping Deals",description:"Current deals and savings on various products.",url:"https://www.dollarsandlife.com/shopping-deals",itemListElement:r.map((e,a)=>{var s,t;return{"@type":"ListItem",position:a+1,item:{"@type":"Product",name:o(e.headline),image:e.image.url,description:o(e.description).slice(0,200),offers:{"@type":"Offer",priceCurrency:"USD",price:(null==(s=e.offers)?void 0:s.price)||e.currentPrice.replace("$",""),availability:(null==(t=e.offers)?void 0:t.availability)||"https://schema.org/InStock",url:"https://www.dollarsandlife.com".concat(e.canonicalUrl)},aggregateRating:e.aggregateRating&&{"@type":"AggregateRating",ratingValue:e.aggregateRating.ratingValue,reviewCount:e.aggregateRating.reviewCount}}}})}),[r]);return(0,t.jsxs)("div",{className:"sd-page-container",children:[(0,t.jsxs)(l(),{children:[(0,t.jsx)("title",{children:"Deals and Savings - Best Shopping Discounts"}),(0,t.jsx)("meta",{name:"description",content:"Find the best deals and savings on top products."}),(0,t.jsx)("link",{rel:"canonical",href:"https://www.dollarsandlife.com/shopping-deals"}),(0,t.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(N).replace(/<\/script>/g,"<\\/script>").replace(/[\u2028\u2029]/g,"")}})]}),(0,t.jsx)("h1",{className:"sd-page-title",children:"Deals and Savings"}),n&&(0,t.jsx)("div",{className:"sd-loading-indicator",children:"Loading Deals..."}),g&&(0,t.jsxs)("div",{className:"sd-error-indicator",children:["Error: ",g]}),!n&&!g&&x.length>0&&(0,t.jsx)("div",{className:"sd-products-grid",children:x.map(e=>(0,t.jsx)(p,{...e},e.id))}),!n&&!g&&0===x.length&&(0,t.jsx)("div",{className:"sd-no-products",children:"No deals available."}),r.length>12&&(0,t.jsx)(d.A,{totalItems:r.length,itemsPerPage:12,currentPage:m,setCurrentPage:v})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[121,636,792],()=>a(6787)),_N_E=e.O()}]);