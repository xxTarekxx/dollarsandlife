(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{272:e=>{e.exports={"create-post-form":"CreatePostForm_create-post-form__sO4Lf","form-heading":"CreatePostForm_form-heading__7AoTb","form-tag-options-container":"CreatePostForm_form-tag-options-container__TPdQ1","form-tag-options":"CreatePostForm_form-tag-options__9sFPJ","form-tag-pill":"CreatePostForm_form-tag-pill__eir0y",selected:"CreatePostForm_selected__OMwsS","submit-post-button":"CreatePostForm_submit-post-button__q8_sy"}},3576:(e,t,r)=>{"use strict";r.d(t,{L:()=>a,m:()=>o});var s=r(2009);let o=async(e,t)=>{if(!e)throw Error("Firestore instance is required to create a forum post.");let r=(0,s.rJ)(e,"forumPosts");await (0,s.gS)(r,{...t,helpfulVoteCount:0,notHelpfulVoteCount:0,answerCount:0,timestamp:(0,s.O5)()})},a=async(e,t)=>{if(!e)throw Error("Firestore instance is required to delete a forum post.");let r=(0,s.H9)(e,"forumPosts",t);await (0,s.kd)(r)}},5996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__N_SSP:()=>f,default:()=>h});var s=r(7876),o=r(7328),a=r.n(o),i=r(9099),n=r(4232),l=r(3276),u=r(7685),c=r(3576),d=r(272),m=r.n(d);let p=["budgeting","saving","investing","credit","side hustles","debt","freelancing","real estate","taxes","retirement"];var f=!0;let h=e=>{let{authInput:t,dbInput:r}=e,o=(0,i.useRouter)(),[d,f]=(0,n.useState)(""),[h,g]=(0,n.useState)(""),[_,b]=(0,n.useState)([]),x=(0,n.useRef)(null),[y]=(0,n.useState)(t||null),[v]=(0,n.useState)(r||null),[P,j,w]=(0,l.hD)(y),C=async e=>{if(e.preventDefault(),!P)return void u.Ay.error("You must be logged in to create a post.");if(!v)return void u.Ay.error("Database service is not available. Cannot create post.");try{await (0,c.m)(v,{title:d,content:h,tags:_,authorId:P.uid,authorDisplayName:P.displayName||"Anonymous"}),u.Ay.success("âœ… Post submitted successfully!"),o.push("/forum"),f(""),g(""),b([])}catch(e){console.error("Failed to submit post",e),u.Ay.error("Something went wrong. Try again.")}};return((0,n.useEffect)(()=>{var e;null==(e=x.current)||e.focus()},[]),(0,n.useEffect)(()=>{if(y){var e;null==(e=x.current)||e.focus()}},[y]),y)?j?(0,s.jsx)("p",{children:"Loading page..."}):w?(0,s.jsxs)("p",{children:["Error loading user: ",w.message,". Please try refreshing."]}):y&&v?(0,s.jsxs)("div",{className:"".concat(m()["page-container"]," ").concat(m()["create-post-page"]),children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:"Create New Forum Post | Dollars & Life"}),(0,s.jsx)("meta",{name:"description",content:"Ask a question or start a new discussion in the Dollars & Life community forum."})]}),(0,s.jsxs)("form",{className:"create-post-form",onSubmit:C,children:[(0,s.jsx)("h1",{className:m()["form-heading"],children:"Ask a New Question"})," ",(0,s.jsx)("label",{htmlFor:"title",children:"Title"}),(0,s.jsx)("input",{type:"text",id:"title",ref:x,value:d,onChange:e=>f(e.target.value),required:!0,placeholder:"Enter your question title...",disabled:!P||!v,className:m().input}),(0,s.jsx)("label",{htmlFor:"content",children:"Description"}),(0,s.jsx)("textarea",{id:"content",value:h,onChange:e=>g(e.target.value),required:!0,placeholder:"Describe your question in detail...",disabled:!P||!v,className:m().textarea}),(0,s.jsx)("label",{children:"Choose Tags (up to 3 recommended)"}),(0,s.jsx)("div",{className:m()["form-tag-options"],children:p.map(e=>(0,s.jsx)("span",{className:"".concat(m()["form-tag-pill"]," ").concat(_.includes(e)?m().selected:""),onClick:()=>{_.includes(e)?b(t=>t.filter(t=>t!==e)):_.length<3?b(t=>[...t,e]):u.Ay.error("You can select up to 3 tags.")},children:e},e))}),(0,s.jsx)("button",{type:"submit",className:m()["submit-post-button"],disabled:!P||!v||!d.trim()||!h.trim(),children:"Submit Post"})]})]}):(0,s.jsx)("p",{children:"Error: Firebase services not available. Please try refreshing."}):(0,s.jsx)("div",{children:"Loading authentication..."})}},7668:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/forum/create-post",function(){return r(5996)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[121,636,792],()=>t(7668)),_N_E=e.O()}]);