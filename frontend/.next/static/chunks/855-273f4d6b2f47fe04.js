(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[855],{3233:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={budgeting:{bg:"#f59e0b",text:"#000"},saving:{bg:"#10b981",text:"#fff"},investing:{bg:"#3b82f6",text:"#fff"},credit:{bg:"#ef4444",text:"#fff"},"side hustles":{bg:"#6366f1",text:"#fff"},debt:{bg:"#e11d48",text:"#fff"},freelancing:{bg:"#14b8a6",text:"#fff"},"real estate":{bg:"#8b5cf6",text:"#fff"},taxes:{bg:"#f97316",text:"#000"},retirement:{bg:"#0ea5e9",text:"#fff"}}},3527:e=>{e.exports={signupContainer:"SignUp_signupContainer___NnMG",signupContentWrapper:"SignUp_signupContentWrapper__oOQIv",signupForm:"SignUp_signupForm__Wmjz7",formGroup:"SignUp_formGroup__AMEQl",submitButton:"SignUp_submitButton__ktd_z",errorMessage:"SignUp_errorMessage__fExPo",successMessage:"SignUp_successMessage__hzVvo",passwordStrengthMessage:"SignUp_passwordStrengthMessage__ion1N",good:"SignUp_good__HONwr",issues:"SignUp_issues__qBlQw",socialLoginDivider:"SignUp_socialLoginDivider__Obpjv",socialLoginButtons:"SignUp_socialLoginButtons__Um1hd",socialButton:"SignUp_socialButton__c_Xta",googleButton:"SignUp_googleButton__simzU",microsoftButton:"SignUp_microsoftButton__qkrQN",authLinks:"SignUp_authLinks__JmSfh",authSwitchLink:"SignUp_authSwitchLink__ktCT1"}},3783:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var a=s(7876),o=s(4232),n=s(6520),i=s.n(n),l=s(5302),r=s(7685),c=s(2009);let u=async(e,t,s)=>{if(!e)throw Error("Firestore instance is required to get user vote.");if(!t||!s)return console.warn("getUserVoteForItem: Called with missing userId or itemId."),null;let a="".concat(t,"_").concat(s),o=(0,c.H9)(e,"userItemVotes",a);try{let e=await (0,c.x7)(o);if(e.exists())return e.data().voteType;return null}catch(e){throw console.error("Error fetching user vote for item ".concat(s," by user ").concat(t,":"),e),e}},d=async(e,t,s,a,o,n,i,l)=>{if(!i)return void console.warn("castVote: authorId is missing, cannot update author's stats.");let r=(0,c.H9)(e,"post"===a?"forumPosts":"forumPosts/".concat(l,"/answers"),s),u=(0,c.H9)(e,"users/".concat(t,"/votes/").concat(s)),d=(0,c.H9)(e,"users",i);await (0,c.c4)(e,async e=>{let t=await e.get(r),i=await e.get(u),c=await e.get(d);if(!t.exists())throw Error("Item not found");let h=t.data(),p=i.exists()?i.data():null,g=c.exists()?c.data():{totalHelpfulVotes:0,totalNotHelpfulVotes:0},f=0,m=0,v=0,x=0;o!==n?("helpful"===n?(f--,v--):"notHelpful"===n&&(m--,x--),"helpful"===o?(f++,v++):"notHelpful"===o&&(m++,x++)):"helpful"===o?(f--,v--):"notHelpful"===o&&(m--,x--),e.update(r,{helpfulVoteCount:(h.helpfulVoteCount||0)+f,notHelpfulVoteCount:(h.notHelpfulVoteCount||0)+m}),p&&o===n?e.delete(u):e.set(u,{voteType:o,itemId:s,itemType:a,...l&&{postId:l}},{merge:!0}),e.update(d,{totalHelpfulVotes:(g.totalHelpfulVotes||0)+v,totalNotHelpfulVotes:(g.totalNotHelpfulVotes||0)+x})})},h=e=>{let{itemId:t,initialHelpfulVotes:s,initialNotHelpfulVotes:n,itemType:c,itemAuthorId:h,postIdForItem:p,auth:g,db:f}=e,[m,v]=(0,o.useState)(s),[x,_]=(0,o.useState)(n),[b,w]=(0,o.useState)(null),[y,j]=(0,o.useState)(!0),[S,B]=(0,o.useState)(!1),[N,C]=(0,o.useState)(null);(0,o.useEffect)(()=>{v(s),_(n)},[s,n]),(0,o.useEffect)(()=>{let e=(0,l.hg)(g,e=>{C(e),e&&t&&f?(j(!0),u(f,e.uid,t).then(e=>{w(e)}).catch(e=>{console.error("VoteButtons: Error fetching user's current vote:",e)}).finally(()=>{j(!1)})):(w(null),j(!1))});return()=>e()},[t,g,f]);let L=(0,o.useCallback)(async e=>{if(!N)return void r.Ay.error("Please log in to vote.");if(N.uid===h)return void r.Ay.error("You cannot vote on your own "+c+".");if(S||!f){f||r.Ay.error("Database service unavailable.");return}B(!0);let s=m,a=x,o=null;e===b?("helpful"===e?s--:a--,o=null):("helpful"===e?(s++,"notHelpful"===b&&a--):(a++,"helpful"===b&&s--),o=e),v(s),_(a),w(o);try{await d(f,N.uid,t,c,e,b,h,"answer"===c?p:void 0)}catch(t){let e="object"==typeof t&&t&&"message"in t&&"string"==typeof t.message?t.message:"Failed to submit vote. Please try again.";console.error("VoteButtons: Error submitting vote:",t),r.Ay.error(null!=e?e:"Failed to submit vote. Please try again."),v(m),_(x),w(b)}finally{B(!1)}},[N,h,c,S,m,x,b,t,p,f]),A=m+x,k=A>0?m/A*100:0;if(h&&N&&h===N.uid)return(0,a.jsxs)("div",{className:"".concat(i().feedbackButtonsContainer," ").concat(i().isAuthor),children:[A>0&&(0,a.jsxs)("div",{className:"helpfulness-stat",children:[(0,a.jsxs)("p",{className:i().helpfulnessStatText,children:[m," of ",A," user",1===A?"":"s"," ","found this helpful."]}),(0,a.jsx)("div",{className:i().helpfulnessBarContainer,children:(0,a.jsx)("div",{className:i().helpfulnessBarForeground,style:{width:"".concat(k,"%")}})})]}),0===A&&!y&&(0,a.jsxs)("p",{className:i().helpfulnessStatText,children:["No votes yet (this is your ",c,")."]}),y&&(0,a.jsx)("p",{className:i().helpfulnessStatText,children:"Loading stats..."})]});let M={disabled:S||y||!N||!f};return(0,a.jsxs)("div",{className:i().feedbackButtonsContainer,children:[(0,a.jsxs)("div",{className:i().feedbackActions,children:[(0,a.jsx)("button",{onClick:()=>L("helpful"),className:"".concat(i().feedbackButton," ").concat("helpful"===b?i().feedbackButtonHelpfulSelected:""),...M,title:N?"helpful"===b?"Remove helpful vote":"Mark as helpful":"Log in to vote",children:"Helpful"}),(0,a.jsx)("button",{onClick:()=>L("notHelpful"),className:"".concat(i().feedbackButton," ").concat("notHelpful"===b?i().feedbackButtonNotHelpfulSelected:""),...M,title:N?"notHelpful"===b?"Remove not helpful vote":"Mark as not helpful":"Log in to vote",children:"Not Helpful"})]}),(A>0||!y)&&(0,a.jsx)("div",{className:"helpfulness-stat",children:A>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:i().helpfulnessStatText,children:[m," of ",A," user",1===A?"":"s"," ","found this helpful."]}),(0,a.jsx)("div",{className:i().helpfulnessBarContainer,children:(0,a.jsx)("div",{className:i().helpfulnessBarForeground,style:{width:"".concat(k,"%")}})})]}):!y&&(0,a.jsx)("p",{className:i().helpfulnessStatText,children:"No votes yet."})}),y&&(0,a.jsx)("p",{className:i().helpfulnessStatText,children:"Loading votes..."})]})}},5316:e=>{e.exports={loginContainer:"Login_loginContainer__gdNZQ",loginContentWrapper:"Login_loginContentWrapper__SiDsp",loginForm:"Login_loginForm__R_Iwg",formGroup:"Login_formGroup__4Jkco",submitButton:"Login_submitButton__he6ds",errorMessage:"Login_errorMessage___Tz13",authLinks:"Login_authLinks__8dIvP",authSwitchLink:"Login_authSwitchLink___Sgqu",socialLoginDivider:"Login_socialLoginDivider__IbM04",socialLoginButtons:"Login_socialLoginButtons__MS_NP",socialButton:"Login_socialButton__WwOi3",googleButton:"Login_googleButton__X4sZe",microsoftButton:"Login_microsoftButton__8fFAq"}},6520:e=>{e.exports={feedbackButtonsContainer:"VoteButtons_feedbackButtonsContainer__JaKFa",feedbackActions:"VoteButtons_feedbackActions__hyrjY",feedbackButton:"VoteButtons_feedbackButton__jX3ZA",feedbackButtonSelected:"VoteButtons_feedbackButtonSelected__5Fa9c",feedbackButtonHelpfulSelected:"VoteButtons_feedbackButtonHelpfulSelected__ogxLm",feedbackButtonNotHelpfulSelected:"VoteButtons_feedbackButtonNotHelpfulSelected__ePHKT",helpfulnessStatText:"VoteButtons_helpfulnessStatText__Dxuk9",helpfulnessBarContainer:"VoteButtons_helpfulnessBarContainer__35srP",helpfulnessBarForeground:"VoteButtons_helpfulnessBarForeground__EscMO",isAuthor:"VoteButtons_isAuthor__tMnAS"}},6845:(e,t,s)=>{"use strict";s.d(t,{A:()=>S});var a=s(7876),o=s(4232),n=s(8477),i=s(9520),l=s.n(i),r=s(5302),c=s(8230),u=s.n(c),d=s(9099),h=s(7858),p=s(5316),g=s.n(p);let f=()=>(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 98.38 24.76",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fill:"#e94235",d:"M0,3.38v3l3.44,3.33,4.06,2.3.75-5.05-.75-4.7-2.1-1.57C3.17-.99,0,.6,0,3.38Z"}),(0,a.jsx)("path",{fill:"#ffba00",d:"M25.5,2.26l-.75,4.76.75,4.99,3.68-1.82,3.82-3.8v-3c0-2.78-3.17-4.37-5.4-2.7l-2.1,1.57Z"}),(0,a.jsx)("path",{fill:"#2684fc",d:"M2.25,24.76h5.25v-12.75L0,6.38v16.12c0,1.24,1.01,2.25,2.25,2.25Z"}),(0,a.jsx)("path",{fill:"#00ac47",d:"M25.5,24.76h5.25c1.24,0,2.25-1.01,2.25-2.25V6.38l-7.5,5.62v12.75Z"}),(0,a.jsx)("path",{fill:"#c5221f",d:"M16.5,9.01L7.5,2.26v9.75l9,6.75,9-6.75V2.26l-9,6.75Z"})]}),m=()=>(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 1033.7455 220.69501",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"m104.87 104.87h-104.87v-104.87h104.87v104.87z",fill:"#f1511b"}),(0,a.jsx)("path",{d:"m220.65 104.87h-104.87v-104.87h104.87v104.87z",fill:"#80cc28"}),(0,a.jsx)("path",{d:"m104.86 220.7h-104.86v-104.87h104.86v104.87z",fill:"#00adef"}),(0,a.jsx)("path",{d:"m220.65 220.7h-104.87v-104.87h104.87v104.87z",fill:"#fbbc09"})]}),v=e=>{let{onSwitchToSignUp:t,auth:s}=e,[n,i]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[p,v]=(0,o.useState)(""),[x,_]=(0,o.useState)(!1),b=(0,d.useRouter)(),[w,y]=(0,o.useState)(s||null),[j,S]=(0,o.useState)(!!s);(0,o.useEffect)(()=>{s||j?s&&w!==s&&y(s):(console.log("Login.tsx: Auth not provided via prop, attempting to get/initialize."),(0,h.Cy)().then(e=>{console.log("Login.tsx: Auth initialized/retrieved via getFirebaseAuth."),y(e),S(!0)}).catch(e=>{console.error("Login.tsx: Failed to initialize Firebase Auth:",e),v("Authentication service failed to load. Please try again later."),S(!0)}))},[s,j,w]),(0,o.useEffect)(()=>{if(!w)return;let e=(0,r.hg)(w,e=>{e&&"/login"===b.pathname&&(console.log("User already logged in on /login page, redirecting to /forum"),b.replace("/forum"))});return()=>e()},[b,w]);let B=()=>{console.log("Login successful, preparing to navigate.");let e=b.query.from||"/forum";b.replace(e)},N=async e=>{if(e.preventDefault(),!w)return void v("Authentication service is not ready. Please try again.");v(""),_(!0),console.log("Attempting Firebase Email/Pass Log In:",{email:n,password:l});try{await (0,r.x9)(w,n,l),"/login"===b.pathname&&B()}catch(t){let e="Failed to log in. Please check your credentials.";if("object"==typeof t&&t&&"code"in t){let s=t.code;"auth/user-not-found"===s||"auth/invalid-credential"===s||"auth/wrong-password"===s?e="Invalid email or password. Please try again.":"auth/invalid-email"===s?e="The email address is not valid.":"auth/too-many-requests"===s&&(e="Access to this account has been temporarily disabled. Please reset your password or try again later.")}v(e),_(!1)}},C=async()=>{if(!w)return void v("Authentication service is not ready. Please try again.");v(""),_(!0);let e=new r.HF;try{await (0,r.df)(w,e),"/login"===b.pathname&&B()}catch(t){let e="Failed to sign in with Google.";if("object"==typeof t&&t&&"code"in t){let s=t.code;"auth/popup-closed-by-user"===s?e="Sign-in popup was closed. Please try again.":"auth/account-exists-with-different-credential"===s&&(e="An account with this email already exists with a different sign-in method.")}v(e),_(!1)}},L=async()=>{if(!w)return void v("Authentication service is not ready. Please try again.");v(""),_(!0);let e=new r.LD("microsoft.com");try{await (0,r.df)(w,e),"/login"===b.pathname&&B()}catch(t){let e="Failed to sign in with Microsoft.";if("object"==typeof t&&t&&"code"in t){let s=t.code;"auth/popup-closed-by-user"===s?e="Sign-in popup was closed. Please try again.":"auth/account-exists-with-different-credential"===s&&(e="An account with this email already exists with a different sign-in method.")}v(e),_(!1)}};return w||j||s?(0,a.jsx)("div",{className:g().loginContentWrapper,children:(0,a.jsxs)("form",{onSubmit:N,className:g().loginForm,children:[(0,a.jsx)("h3",{children:"Log In"}),p&&(0,a.jsx)("p",{className:g().errorMessage,children:p}),(0,a.jsxs)("div",{className:g().formGroup,children:[(0,a.jsx)("label",{htmlFor:"login-email",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"login-email",value:n,onChange:e=>i(e.target.value),required:!0,disabled:x||!w,placeholder:"you@example.com",autoComplete:"email"})]}),(0,a.jsxs)("div",{className:g().formGroup,children:[(0,a.jsx)("label",{htmlFor:"login-password",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"login-password",value:l,onChange:e=>c(e.target.value),required:!0,disabled:x||!w,placeholder:"••••••••",autoComplete:"current-password"})]}),(0,a.jsx)("button",{type:"submit",className:g().submitButton,disabled:x||!w,children:x?"Logging In...":"Log In"}),(0,a.jsx)("div",{className:g().socialLoginDivider,children:"OR"}),(0,a.jsx)("div",{children:"Log In Using"}),(0,a.jsxs)("div",{className:g().socialLoginButtons,children:[(0,a.jsx)("button",{type:"button",onClick:C,className:"".concat(g().socialButton," ").concat(g().googleButton),disabled:x||!w,title:"Sign in with Google",children:(0,a.jsx)(f,{})}),(0,a.jsx)("button",{type:"button",onClick:L,className:"".concat(g().socialButton," ").concat(g().microsoftButton),disabled:x||!w,title:"Sign in with Microsoft",children:(0,a.jsx)(m,{})})]}),(0,a.jsxs)("div",{className:g().authLinks,children:[(0,a.jsx)(u(),{href:"/forgot-password",children:"Forgot Password?"}),(0,a.jsx)("span",{children:" | "}),(0,a.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?t():b.push("/signup")},className:g().authSwitchLink,children:"Don't have an account? Sign Up"})]})]})}):(0,a.jsx)("div",{className:g().loginContentWrapper,children:(0,a.jsx)("p",{children:"Loading login..."})})};var x=s(3527),_=s.n(x);let b=()=>(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 98.38 24.76",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fill:"#e94235",d:"M0,3.38v3l3.44,3.33,4.06,2.3.75-5.05-.75-4.7-2.1-1.57C3.17-.99,0,.6,0,3.38Z"}),(0,a.jsx)("path",{fill:"#ffba00",d:"M25.5,2.26l-.75,4.76.75,4.99,3.68-1.82,3.82-3.8v-3c0-2.78-3.17-4.37-5.4-2.7l-2.1,1.57Z"}),(0,a.jsx)("path",{fill:"#2684fc",d:"M2.25,24.76h5.25v-12.75L0,6.38v16.12c0,1.24,1.01,2.25,2.25,2.25Z"}),(0,a.jsx)("path",{fill:"#00ac47",d:"M25.5,24.76h5.25c1.24,0,2.25-1.01,2.25-2.25V6.38l-7.5,5.62v12.75Z"}),(0,a.jsx)("path",{fill:"#c5221f",d:"M16.5,9.01L7.5,2.26v9.75l9,6.75,9-6.75V2.26l-9,6.75Z"})]}),w=()=>(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 1033.7455 220.69501",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"m104.87 104.87h-104.87v-104.87h104.87v104.87z",fill:"#f1511b"}),(0,a.jsx)("path",{d:"m220.65 104.87h-104.87v-104.87h104.87v104.87z",fill:"#80cc28"}),(0,a.jsx)("path",{d:"m104.86 220.7h-104.86v-104.87h104.86v104.87z",fill:"#00adef"}),(0,a.jsx)("path",{d:"m220.65 220.7h-104.87v-104.87h104.87v104.87z",fill:"#fbbc09"})]}),y=e=>{let{onSwitchToLogin:t,onSuccessfulSocialLogin:s,onEmailSignUpPendingVerification:n,auth:i}=e,[l,c]=(0,o.useState)(""),[u,p]=(0,o.useState)(""),[g,f]=(0,o.useState)(""),[m,v]=(0,o.useState)(""),[x,y]=(0,o.useState)(""),[j,S]=(0,o.useState)(""),[B,N]=(0,o.useState)(!1),[C,L]=(0,o.useState)(!1),[A,k]=(0,o.useState)(""),M=(0,d.useRouter)(),[F,P]=(0,o.useState)(i||null),[I,U]=(0,o.useState)(!!i);(0,o.useEffect)(()=>{i||I?i&&F!==i&&P(i):(console.log("SignUp.tsx: Auth not provided via prop, attempting to get/initialize."),(0,h.Cy)().then(e=>{console.log("SignUp.tsx: Auth initialized/retrieved via getFirebaseAuth."),P(e),U(!0)}).catch(e=>{console.error("SignUp.tsx: Failed to initialize Firebase Auth:",e),y("Authentication service failed to load. Please try again later."),U(!0)}))},[i,I,F]);let E=e=>{let t=[];return e.length<8&&t.push("At least 8 characters"),/[A-Z]/.test(e)||t.push("An uppercase letter"),/[a-z]/.test(e)||t.push("A lowercase letter"),/[0-9]/.test(e)||t.push("A number"),/[^A-Za-z0-9]/.test(e)||t.push("A special character"),t};(0,o.useEffect)(()=>{if(g){let e=E(g);e.length>0?k("Needs: ".concat(e.join(", "),".")):k("Password strength: Good")}else k("")},[g]),(0,o.useEffect)(()=>{if(!F)return;let e=(0,r.hg)(F,e=>{e&&"/signup"===M.pathname&&(console.log("User already logged in on /signup page, redirecting to /forum"),M.replace("/forum"))});return()=>e()},[M,F]);let V=e=>{s?s():"/signup"===M.pathname?(S("Welcome, ".concat(e.displayName||"User","! Redirecting...")),setTimeout(()=>{M.replace("/forum")},2e3)):S("Welcome, ".concat(e.displayName||"User","!"))},H=async e=>{if(e.preventDefault(),!F)return void y("Authentication service is not ready. Please try again.");if(y(""),S(""),L(!1),!l.trim())return void y("Display Name cannot be empty.");let t=E(g);if(t.length>0)return void y("Password issues: ".concat(t.join(", "),"."));if(g!==m)return void y("Passwords do not match.");N(!0);try{let e=(await (0,r.eJ)(F,u,g)).user;await (0,r.r7)(e,{displayName:l.trim()});let t={url:"".concat(window.location.origin,"/auth/action"),handleCodeInApp:!0};await (0,r.gA)(e,t),S("Sign up successful! A verification email has been sent. Please check your inbox (and spam folder) to verify your account."),L(!0),n&&n()}catch(e){console.error("Error signing up via email:",e.code,e.message),"auth/email-already-in-use"===e.code?y("This email address is already in use. Try logging in instead."):"auth/weak-password"===e.code?y("Password is too weak. Please choose a stronger password."):y(e.message||"Failed to create an account. Please try again.")}finally{N(!1)}},z=async e=>{if(!F)return void y("Authentication service is not ready. Please try again.");y(""),S(""),N(!0),L(!1);try{let t=(await (0,r.df)(F,e)).user;V(t)}catch(e){console.error("Error with social sign-in:",e.code,e.message),"auth/popup-closed-by-user"===e.code||"auth/cancelled-popup-request"===e.code?y("Sign-in process was cancelled."):"auth/account-exists-with-different-credential"===e.code?y("An account already exists with this email address but different sign-in credentials. Try signing in with the original method."):y(e.message||"Failed to sign in. Please try again.")}finally{N(!1)}};return F||I||i?C?(console.log("SIGNUP.TSX: Now rendering success display block."),(0,a.jsx)("div",{className:_().signupContentWrapper,children:(0,a.jsxs)("div",{className:_().signupForm,children:[(0,a.jsx)("h3",{children:"Account Created"}),j&&(0,a.jsx)("p",{className:_().successMessage,children:j}),(0,a.jsx)("div",{className:_().authLinks,style:{marginTop:"20px",textAlign:"center"},children:(0,a.jsx)("p",{children:"Once verified, you will be able to log in."})})]})})):(0,a.jsx)("div",{className:_().signupContentWrapper,children:(0,a.jsxs)("form",{onSubmit:H,className:_().signupForm,children:[(0,a.jsx)("h3",{children:"Create Your Account"}),j&&!C&&(0,a.jsx)("p",{className:_().successMessage,children:j}),x&&(0,a.jsx)("p",{className:_().errorMessage,children:x}),(0,a.jsxs)("div",{className:_().formGroup,children:[(0,a.jsx)("label",{htmlFor:"signup-display-name",children:"Display Name"}),(0,a.jsx)("input",{type:"text",id:"signup-display-name",value:l,onChange:e=>c(e.target.value),required:!0,disabled:B||!F,autoComplete:"name"})]}),(0,a.jsxs)("div",{className:_().formGroup,children:[(0,a.jsx)("label",{htmlFor:"signup-email",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"signup-email",value:u,onChange:e=>p(e.target.value),required:!0,disabled:B||!F,autoComplete:"email"})]}),(0,a.jsxs)("div",{className:_().formGroup,children:[(0,a.jsx)("label",{htmlFor:"signup-password",children:"New Password"}),(0,a.jsx)("input",{type:"password",id:"signup-password",value:g,onChange:e=>f(e.target.value),required:!0,disabled:B||!F,autoComplete:"new-password"}),A&&(0,a.jsx)("p",{className:"".concat(_().passwordStrengthMessage," ").concat(A.includes("Good")?_().good:_().issues),children:A})]}),(0,a.jsxs)("div",{className:_().formGroup,children:[(0,a.jsx)("label",{htmlFor:"signup-confirm-password",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",id:"signup-confirm-password",value:m,onChange:e=>v(e.target.value),required:!0,disabled:B||!F,autoComplete:"new-password"})]}),(0,a.jsx)("button",{type:"submit",className:_().submitButton,disabled:B||!F,children:B?"Creating Account...":"Sign Up with Email"}),(0,a.jsx)("div",{className:_().socialLoginDivider,children:"OR"}),(0,a.jsxs)("div",{className:_().socialLoginButtons,children:[(0,a.jsx)("button",{type:"button",onClick:()=>z(new r.HF),className:"".concat(_().socialButton," ").concat(_().googleButton),disabled:B||!F,title:"Sign up with Google",children:(0,a.jsx)(b,{})}),(0,a.jsx)("button",{type:"button",onClick:()=>z(new r.LD("microsoft.com")),className:"".concat(_().socialButton," ").concat(_().microsoftButton),disabled:B||!F,title:"Sign up with Microsoft",children:(0,a.jsx)(w,{})})]}),(0,a.jsx)("div",{className:_().authLinks,children:(0,a.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?t():M.push("/login")},className:_().authSwitchLink,children:"Already have an account? Log In"})})]})}):(0,a.jsx)("div",{className:_().signupContentWrapper,children:(0,a.jsx)("p",{children:"Loading sign up..."})})};var j=s(3276);let S=e=>{let{onClose:t,auth:s}=e,[i,r]=(0,o.useState)(null),[c,u]=(0,o.useState)(!1),[d,h]=(0,j.hD)(s),[p,g]=(0,o.useState)(!1),f=(0,o.useMemo)(()=>document.getElementById("modal-root")||(()=>{let e=document.createElement("div");return e.id="modal-root",document.body.appendChild(e),e})(),[]),m=(0,o.useMemo)(()=>document.createElement("div"),[]);(0,o.useEffect)(()=>{if(f&&m)return f.appendChild(m),requestAnimationFrame(()=>{u(!0)}),()=>{f.contains(m)&&f.removeChild(m)}},[m,f]);let x=(0,o.useCallback)(()=>{u(!1),g(!1),setTimeout(()=>{t()},250)},[t]);(0,o.useEffect)(()=>{h||!d||p||"login"!==i&&null!==i||x()},[d,h,i,x,p,s]);let _=()=>{r("login"),g(!1)},b=()=>{r("signup"),g(!1)},w=(0,o.useCallback)(()=>{g(!1),x()},[x]),S=(0,o.useCallback)(()=>{g(!0)},[]);if(!m||!f)return null;let B=(0,a.jsx)("div",{className:"".concat(l().authModalOverlay," ").concat(c?l().fadeIn:l().fadeOut),children:(0,a.jsxs)("div",{className:l().authModalContent,children:[(0,a.jsx)("button",{className:l().authCloseBtn,onClick:x,children:"✕"}),i?"login"===i?(0,a.jsx)(v,{onSwitchToSignUp:b,auth:s}):(0,a.jsx)(y,{onSwitchToLogin:_,onSuccessfulSocialLogin:w,onEmailSignUpPendingVerification:S,auth:s}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:"Please Log In or Sign Up"}),(0,a.jsxs)("div",{className:l().authModalButtons,children:[(0,a.jsx)("button",{onClick:_,children:"Log In"}),(0,a.jsx)("button",{onClick:b,children:"Sign Up"})]})]})]})});return n.createPortal(B,m)}},7858:(e,t,s)=>{"use strict";s.d(t,{Cy:()=>h,lo:()=>d});var a=s(6042),o=s(5302),n=s(2009);let i={apiKey:"AIzaSyDDc0ctdb9HAtfKBFMcLb_-oZzhA61ZSKc",authDomain:"dollarsandlifeforum.firebaseapp.com",projectId:"dollarsandlifeforum",storageBucket:"dollarsandlifeforum.firebasestorage.app",messagingSenderId:"965261990077",appId:"1:965261990077:web:b219509b5d2ab678583fd4"},l=null,r=null,c=null,u=null;function d(){return u||(u=(async()=>{if(!l)if(l=(0,a.Wp)(i),r=(0,o.xI)(l),c=(0,n.aU)(l),"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname){try{r&&(0,o.Wq)(r,"http://localhost:9099",{disableWarnings:!0})}catch(e){console.error("Firebase: Error during Auth Emulator connection attempt:",e)}try{c&&(0,n.vN)(c,"localhost",8080)}catch(e){console.error("Firebase: Error during Firestore Emulator connection attempt:",e)}}else console.log("Firebase: Production environment. Connecting to live services.");if(!l||!r||!c)throw Error("Firebase initialization failed: One or more services are null after initialization attempt.");return{app:l,auth:r,db:c}})()),u}async function h(){let{auth:e}=await d();return e}},9520:e=>{e.exports={authModalOverlay:"AuthPromptModal_authModalOverlay__LdVKd",fadeIn:"AuthPromptModal_fadeIn__Kie74",fadeInOverlay:"AuthPromptModal_fadeInOverlay__VIvMF",fadeOut:"AuthPromptModal_fadeOut__1qCOL",fadeOutOverlay:"AuthPromptModal_fadeOutOverlay__FP3ym",authModalContent:"AuthPromptModal_authModalContent__6Uaa7",authModalButtons:"AuthPromptModal_authModalButtons__vLQRT",authCloseBtn:"AuthPromptModal_authCloseBtn__9qq0F",popInModal:"AuthPromptModal_popInModal__m6YYf"}}}]);